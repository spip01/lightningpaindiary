<!DOCTYPE html>
<html lang="en">

<head>
    <title>Lightning Pain Diary</title>
    <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type">
    <meta charset="utf-8">
    <meta id="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://www.w3schools.com/lib/w3.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <link rel="stylesheet" type="text/plain" href="index.css">
</head>

<body>
    <div w3-include-html="navbar.html"></div>
 
    <div id="javascript" class="w3-container w3-light-gray w3-card">
        <div class="w3-bar">
            <a href="index.html" class="w3-btn w3-bar-item w3-mobile w3-hover-dark-gray" style="color: rgb(0, 78, 0);">
                <i class="fa fa-home" style="font-size:18px"></i>
                Lightning Pain Diary
            </a>
            <a href="about.html" class="w3-btn w3-bar-item w3-mobile w3-hover-dark-gray"> About </a>
        </div>
        </br>

        <div id="javascript" class="w3-containerw3-card w3-light-gray" style="color: rgb(0, 78, 0);">
            Unfortunately, this page cannot function without javasript.
            <br>Please add this site to your "allowed" sites located at
            <br>chrome://settings/content/javascript
        </div>
        </br>
    </div>

    <div id="jssite" data-generated class="w3-card" style="display: none">
        <div id="painbuttons" class="w3-container w3-bar w3-round"></div>

        <div data-generated id="detail" class="w3-container w3-small" style="display: none">

            <header class="w3-container w3-light-gray" style="color: rgb(0, 78, 0);">
                Date & Time
            </header>
            <input id="entryDate" class="w3-border w3-round" type="datetime-local">
            <label for="entryDate" class="w3 - small">Diary Entry Date</label>
            <br>

            <div id="medications"></div>
            <div id="painlocation"></div>
            <div id="paintype"></div>
            <div id="triggerlist"></div>
            <div id="warninglist"></div>

            <div id="reliefbuttons" class="w3-container w3-bar w3-round"></div>
            <div id="moodbuttons" class="w3-container w3-bar w3-round"></div>

            <div id="entrybuttons">
                <button type="button" class="w3-btn w3-tiny w3-border w3-round w3-ripple">Update</button>
                <button type="button" class="w3-btn w3-tiny w3-border w3-round w3-ripple">New</button>
                <button type="button" class="w3-btn w3-tiny w3-border w3-round w3-ripple">Cancel</button>
                <button type="button" class="w3-btn w3-tiny w3-border w3-round w3-ripple">Make Default</button>
            </div>
        </div>
        <br>

    </div>
    <br>

    <p id="diag"></p>
    <p id="diag2"></p>

    <script>
        w3.includeHTML();

        var neednew = true;

        // entry values
        var createdDate = new Date();
        var changedDate = new Date();
        var entryDate = new Date();
        var painlevel = "";
        var relieflevel = "";
        var moodlevel = "";

        var medicines = [];
        var triggers = [];
        var painlocation = [];
        var paintype = [];
        var warnings = [];

        // get these from db
        var medlist = ["kepra", "relafin", "haldol", "cogentin", "benadryl", "compazine"];
        var triggerlist = ["weather", "smells", "sleep"];
        var locationlist = ["forehead", "temple", "eyes", "left", "right", "all"];
        var typelist = ["throbbing", "burning", "pressure", "sharp"];
        var warninglist = ["aura"];

        // previous entry values
        var createdDateOld = createdDate;
        var changedDateOld = changedDate;
        var entryDateOld = entryDate;
        var painlevelOld = painlevel;
        var relieflevelOld = relieflevel;
        var moodlevelOld = moodlevel;

        var medicinesOld = medicines;
        var triggersOld = triggers;
        var painlocationOld = painlocation;
        var paintypeOld = paintype;
        var warningsOld = warnings;

        $(document).ready(function () {
            $("#painbuttons button").click(function () {
                painlevel = painButtons(this, "painbuttons");
            });
            $("#reliefbuttons button").click(function () {
                relieflevel = procButtons(this, "reliefbuttons");
            });
            $("#moodbuttons button").click(function () {
                moodlevel = procButtons(this, "moodbuttons");
            });
            $("#entrybuttons button").click(function () {
                entryButtons(this, "entrybuttons");
            });

            $("#javascript").empty();
            $("#jssite").show();

            setup();
        });
    </script>

    <div w3-include-html="footer.html"></div>
</body>

</html>